{"version":3,"sources":["components/Carousel/index.ts","components/Carousel/Carousel.tsx","components/MovieCard/index.ts","components/MovieCard/MovieCard.tsx","routes/Home/Home.tsx"],"names":["Carousel","React","memo","children","sliderRef","useRef","useState","sliderPosX","setSliderPosX","className","onClick","icon","faCaretLeft","size","ref","style","transform","current","clientWidth","window","innerWidth","faCaretRight","MovieCard","movie","to","id","src","poster_path","alt","title","Home","movies","setMovies","randomMovie","setRandomMovie","useEffect","fetchMovies","then","res","value","length","Math","floor","random","position","map","key","Backdrop","backdrop_path","classNames","Loading"],"mappings":"sNAEeA,G,MCMMC,IAAMC,MAAK,YAAmB,IAAhBC,EAAe,EAAfA,SAC3BC,EAAYC,iBAAuB,MADO,EAEZC,oBAAU,KAFE,mBAEzCC,EAFyC,KAE7BC,EAF6B,KAgBhD,OACE,yBAAKC,UAAU,YACb,kBAAC,IAAD,CAAiBC,QAdJ,WACXH,IAAe,KAAKC,EAAcD,EAAa,MAabE,UAAU,YAAYE,KAAMC,IAAaC,KAAK,OAClF,yBAAKJ,UAAU,0BACb,yBACEA,UAAU,SACVK,IAAKV,EACLW,MAAO,CAAEC,UAAU,cAAD,OAAgBT,EAAhB,SAEjBJ,IAGL,kBAAC,IAAD,CAAiBO,QApBH,cACKN,GAAaA,EAAUa,SAAWb,EAAUa,QAAQC,aAAgB,IACpEC,OAAOC,WAAa,KAAO,KAAOD,OAAOC,aAG1Cb,GAAYC,EAAcD,EAAa,MAepBI,KAAMU,IAAcR,KAAK,Y,eClCrDS,G,MCKyBrB,IAAMC,MAAK,gBAAGqB,EAAH,EAAGA,MAAH,OACjD,yBAAKd,UAAU,cACb,kBAAC,IAAD,CAAMe,GAAE,kBAAaD,EAAME,KACzB,yBAAKhB,UAAU,SAASiB,IALd,kDAK6BH,EAAMI,YAAaC,IAAI,YAEhE,wBAAInB,UAAU,SAASc,EAAMM,YCyBlBC,UA1BE,WAAO,IAAD,EACOxB,mBAAkB,IADzB,mBACdyB,EADc,KACNC,EADM,OAEiB1B,qBAFjB,mBAEd2B,EAFc,KAEDC,EAFC,KAYrB,OARAC,qBAAU,WACRC,cAAcC,MAAK,SAAAC,GAAG,OAAIN,EAAUM,QACnC,IAEHH,qBAAU,WAVG,IAACI,EAWZL,EAAeH,GAXHQ,EAWiBR,EAAOS,OAXNC,KAAKC,MAAMD,KAAKE,SAAWJ,QAYxD,CAACR,IAECE,EAEH,yBAAKlB,MAAO,CAAE6B,SAAU,aACtB,kBAAC,EAAD,KACGb,EAAOc,KAAI,SAAAtB,GAAK,OACf,kBAAC,EAAD,CAAWuB,IAAKvB,EAAME,GAAIF,MAAOA,QAIrC,kBAACwB,EAAA,EAAD,CAAUrB,IAAKO,EAAYe,cAAeC,WAAW,kCAThC,kBAACC,EAAA,EAAD","file":"static/js/3.91936e5f.chunk.js","sourcesContent":["import Carousel from './Carousel';\r\n\r\nexport default Carousel;\r\n","import React, { FC, useRef, useState } from 'react';\r\n\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faCaretLeft, faCaretRight } from '@fortawesome/free-solid-svg-icons';\r\n\r\nimport './Carousel.scss';\r\n\r\n// TODO: Add touch movement\r\nconst Carousel: FC = React.memo(({ children }) => {\r\n  const sliderRef = useRef<HTMLDivElement>(null);\r\n  const [sliderPosX, setSliderPosX] = useState(-100);\r\n\r\n  const moveLeft = () => {\r\n    if (sliderPosX <= -100) setSliderPosX(sliderPosX + 200);\r\n  };\r\n\r\n  const moveRight = () => {\r\n    const sliderWidth = (sliderRef && sliderRef.current && sliderRef.current.clientWidth) || 0;\r\n    const wrapperWidth = window.innerWidth > 1440 ? 1440 : window.innerWidth;\r\n    const maxSlideWidth = -(sliderWidth - wrapperWidth);\r\n\r\n    if (maxSlideWidth < sliderPosX) setSliderPosX(sliderPosX - 200);\r\n  };\r\n\r\n  return (\r\n    <div className=\"carousel\">\r\n      <FontAwesomeIcon onClick={moveLeft} className=\"arrowLeft\" icon={faCaretLeft} size=\"5x\" />\r\n      <div className=\"wrapper carousel-inner\">\r\n        <div\r\n          className=\"slider\"\r\n          ref={sliderRef}\r\n          style={{ transform: `translateX(${sliderPosX}px)` }}\r\n        >\r\n          {children}\r\n        </div>\r\n      </div>\r\n      <FontAwesomeIcon onClick={moveRight} icon={faCaretRight} size=\"5x\" />\r\n    </div>\r\n  );\r\n});\r\n\r\nexport default Carousel;\r\n","import MovieCard from './MovieCard';\r\n\r\nexport default MovieCard;\r\n","import React, { FC } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './MovieCard.scss';\r\n\r\nconst baseUrl = 'https://image.tmdb.org/t/p/w300_and_h450_bestv2';\r\n\r\nconst MovieCard: FC<{ movie: Movie }> = React.memo(({ movie }) => (\r\n  <div className=\"movie-card\">\r\n    <Link to={`/movies/${movie.id}`}>\r\n      <img className=\"poster\" src={baseUrl + movie.poster_path} alt=\"poster\" />\r\n    </Link>\r\n    <h3 className=\"title\">{movie.title}</h3>\r\n  </div>\r\n));\r\nexport default MovieCard;\r\n","import React, { FC, useState, useEffect } from 'react';\r\n\r\nimport { fetchMovies } from '../../services/movieService';\r\n\r\nimport Loading from '../../components/Loading';\r\nimport Carousel from '../../components/Carousel';\r\nimport Backdrop from '../../components/Backdrop';\r\nimport MovieCard from '../../components/MovieCard';\r\n\r\nconst random = (value: number) => Math.floor(Math.random() * value);\r\n\r\nconst Home: FC = () => {\r\n  const [movies, setMovies] = useState<Movie[]>([]);\r\n  const [randomMovie, setRandomMovie] = useState<Movie>();\r\n\r\n  useEffect(() => {\r\n    fetchMovies().then(res => setMovies(res));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setRandomMovie(movies[random(movies.length)]);\r\n  }, [movies]);\r\n\r\n  if (!randomMovie) return <Loading />;\r\n  return (\r\n    <div style={{ position: 'relative' }}>\r\n      <Carousel>\r\n        {movies.map(movie => (\r\n          <MovieCard key={movie.id} movie={movie} />\r\n        ))}\r\n      </Carousel>\r\n\r\n      <Backdrop src={randomMovie.backdrop_path} classNames=\"blur-light no-stretch-height\" />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"sourceRoot":""}