(window.webpackJsonpcinemania=window.webpackJsonpcinemania||[]).push([[0],[,,,,,function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=(a(43),function(e){var t=e.onClick,a=e.children,n=e.secondary;return c.a.createElement("button",{className:"button ".concat(n?"secondary":""),onClick:t},a)});t.a=r},,function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=(a(38),function(){return c.a.createElement("section",{className:"loading"},c.a.createElement("div",{className:"lds-ellipsis"},c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null),c.a.createElement("div",null)))});t.a=r},,,function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return o}));var n=a(2),c=a(0),r=a.n(c),s={selectedMovie:{id:0,title:"",overview:"",credits:{cast:[]},videos:{results:[{key:"",name:""}]},genres:[],runtime:""},setSelectedMovie:function(){}},l=Object(c.createContext)(s),o=function(e){var t=e.children,a=Object(c.useState)(s.selectedMovie),o=Object(n.a)(a,2),i=o[0],u=o[1];return r.a.createElement(l.Provider,{value:{selectedMovie:i,setSelectedMovie:u}},t)}},,,function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"d",(function(){return o})),a.d(t,"c",(function(){return i}));var n=a(6),c=a.n(n),r=a(12),s=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cinemania-ab421.firebaseio.com/movies.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t){var a,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cinemania-ab421.firebaseio.com/movieDetails/".concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(r.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cinemania-ab421.firebaseio.com/prices.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(r.a)(c.a.mark((function e(t,a){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cinemania-ab421.firebaseio.com/soldSeats/".concat(t,"/").concat(a,".json"));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},,,function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=(a(48),c.a.memo((function(e){var t=e.src,a=void 0===t?"":t,r=e.classNames,s=void 0===r?"":r;return c.a.createElement(n.Fragment,null,c.a.createElement("img",{className:"backdrop ".concat(s),src:"https://image.tmdb.org/t/p/original".concat(a),alt:"backdrop"}),c.a.createElement("div",{className:"backdrop-overlay"}))})));t.a=r},,,,,,,function(e,t,a){"use strict";var n,c=a(0),r=a.n(c),s=a(9),l=a(16),o=(a(49),function(e){var t=e.cast;return r.a.createElement("div",{className:"cast"},r.a.createElement("img",{className:"cast-profil",src:"https://image.tmdb.org/t/p/w300_and_h450_bestv2"+t.profile_path,alt:"profil"}),r.a.createElement("span",{className:"cast-name"},t.name),r.a.createElement("span",{className:"cast-character"},t.character))}),i=a(5);a(50);!function(e){e.poster="https://image.tmdb.org/t/p/w300_and_h450_bestv2",e.profil="https://image.tmdb.org/t/p/w100_and_h100_bestv2"}(n||(n={}));var u=r.a.memo((function(e){var t=e.selectedMovie,a=e.showtimes,c=e.showMoreDetail;return r.a.createElement("div",{className:"movie-details"},r.a.createElement("div",{className:"movie-detail-back"},r.a.createElement(l.a,{src:t.backdrop_path||"",classNames:"no-stretch-height"})),r.a.createElement("div",{className:"inner wrapper"},r.a.createElement("img",{className:"poster",src:n.poster+t.poster_path,alt:"poster"}),r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,t.title),r.a.createElement("h3",{className:"subheader"},"Genre:",r.a.createElement("span",null,t.genres.map((function(e){return e.name})).join(", "))),r.a.createElement("h3",{className:"subheader"},"Duration:",r.a.createElement("span",null,t.runtime," minute")),r.a.createElement("h3",{className:"subheader"},"Rating:",r.a.createElement("span",null,t.vote_average)),c&&r.a.createElement("div",{className:"buttons"},r.a.createElement("details",{className:"details"},r.a.createElement("summary",{className:"button secondary"},"Buy Ticket"),a&&a.map((function(e){return r.a.createElement("p",{className:"button",key:e},r.a.createElement(s.b,{to:{pathname:"/ticketing",state:{showtime:e}}},e))}))),r.a.createElement(i.a,{onClick:function(){window.location.href="https://youtu.be/".concat(t.videos.results[0].key)}},"Trailer")))),c&&r.a.createElement("section",{className:"more-detail wrapper"},r.a.createElement("h2",{className:"subheader"},"Overview"),r.a.createElement("p",{className:"overview"},t.overview),r.a.createElement("h2",{className:"subheader"},"Cast"),r.a.createElement("section",{className:"cast-cards"},t.credits.cast.slice(0,6).map((function(e){return r.a.createElement(o,{cast:e,key:e.id})})))))}));t.a=u},,,,,,,,function(e,t,a){e.exports=a(62)},,,,,,,function(e,t,a){},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),s=a.n(r),l=a(29),o=a(9),i=a(8),u=a(17),m=a.n(u),p=a(7),d=m()({loader:function(){return a.e(3).then(a.bind(null,67))},loading:p.a}),f=m()({loader:function(){return a.e(4).then(a.bind(null,68))},loading:p.a}),E=a(25),v=a(2),h=a(10),b=a(13),j=function(e,t){switch(t.type){case"add":return{totalPrice:e.totalPrice+t.payload.price,totalTicketCount:e.totalTicketCount+1};case"remove":return e.totalTicketCount?{totalPrice:e.totalPrice-t.payload.price,totalTicketCount:e.totalTicketCount-1}:e;case"reset":return{totalPrice:t.payload.price,totalTicketCount:0};default:throw new Error}},w={state:{totalPrice:0,totalTicketCount:0},dispatch:function(){}},O=Object(n.createContext)(w),k=function(e){var t=e.children,a=Object(n.useReducer)(j,w.state),r=Object(v.a)(a,2),s=r[0],l=r[1];return c.a.createElement(O.Provider,{value:{state:s,dispatch:l}},t)},N=a(11),C=a(15),g=a(5),y=(a(44),function(e){var t=e.price,a=e.type,r=Object(n.useState)(0),s=Object(v.a)(r,2),l=s[0],o=s[1],i=Object(n.useContext)(O).dispatch;return c.a.createElement("div",{className:"ticket"},c.a.createElement(N.a,{className:"ticket-icon",icon:C.d,size:"2x"}),c.a.createElement("h4",null,a),c.a.createElement("p",{className:"price"},t," TL"),c.a.createElement("div",{className:"counter"},c.a.createElement(g.a,{onClick:function(){l&&(o(l-1),i({type:"remove",payload:{price:t}}))}},"-"),c.a.createElement("p",null,l),c.a.createElement(g.a,{onClick:function(){o(l+1),i({type:"add",payload:{price:t}})}},"+")))}),x=(a(45),function(e){var t=e.nextState,a=Object(n.useContext)(O),r=a.state,s=a.dispatch,l=r.totalPrice,o=r.totalTicketCount,i=Object(n.useState)(),u=Object(v.a)(i,2),m=u[0],d=u[1];Object(n.useEffect)((function(){Object(b.d)().then((function(e){return d(e)})),s({type:"reset",payload:{price:0}})}),[s]);return m?c.a.createElement(n.Fragment,null,c.a.createElement("h1",{className:"section-title"},"Choose your ticket"),m&&m.map((function(e){return c.a.createElement(y,Object.assign({key:e.type},e))})),c.a.createElement("div",{className:"choose-ticket-bottom"},c.a.createElement("h4",null,"Total Price: ",l," TL"),c.a.createElement(g.a,{onClick:function(){return o>0&&t()}},"Continue"))):c.a.createElement(p.a,null)}),S=a(30),D=(a(46),c.a.memo((function(e){var t=e.hallTemplate,a=e.onClick,r=e.soldSeats;return c.a.createElement(n.Fragment,null,t.map((function(e,t){return c.a.createElement("div",{className:"row",key:e[t].charAt(0)},e.map((function(e){return c.a.createElement("button",{className:r.includes(e)?"seat sold":"seat",onClick:a,value:e,key:e},e)})))})))}))),P=(a(47),[["A1","A2","A3","A4","A5","A6","A7","A8","A9","A10","A11","A12"],["B1","B2","B3","B4","B5","B6","B7","B8","B9","B10","B11","B12"],["C1","C2","C3","C4","C5","C6","C7","C8","C9","C10"],["D1","D2","D3","D4","D5","D6","D7","D8","D9","D10"],["E1","E2","E3","E4","E5","E6","E7","E8","E9","E10"],["F1","F2","F3","F4","F5","F6","F7","F8","F9","F10"],["G1","G2","G3","G4","G5","G6","G7","G8","G9","G10"],["H1","H2","H3","H4","H5","H6","H7","H8","H9","H10","H11","H12"]]),T=function(e){var t=e.hallID,a=e.showtime,r=e.nextState,s=e.selectedSeats,l=e.setSelectedSeats,o=Object(n.useState)([]),i=Object(v.a)(o,2),u=i[0],m=i[1],d=Object(n.useContext)(O).state.totalTicketCount;Object(n.useEffect)((function(){Object(b.c)(t,a).then((function(e){return m(e)}))}),[t,a]);return u.length?c.a.createElement("div",{className:"choose-seat"},c.a.createElement("h1",{className:"section-title"},"Choose your seat"),c.a.createElement("div",{className:"seats-container"},c.a.createElement(D,{hallTemplate:P,onClick:function(e){var t=e.currentTarget,a=t.value;if(!u.includes(a))if(s.includes(a)){var n=s.indexOf(a);s.splice(n,1),l(s),t.classList.remove("selected")}else d!==s.length&&(t.classList.add("selected"),l([].concat(Object(S.a)(s),[a])))},soldSeats:u}),c.a.createElement("div",{className:"scene"},"SCENE")),c.a.createElement(g.a,{onClick:function(){return s.length===d&&r()}},"Continue")):c.a.createElement(p.a,null)},A=a(23);a(56);function B(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function F(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?B(a,!0).forEach((function(t){Object(E.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):B(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _=function(e){var t=e.location,a=Object(n.useState)(0),r=Object(v.a)(a,2),s=r[0],l=r[1],o=Object(n.useState)([]),u=Object(v.a)(o,2),m=u[0],p=u[1],d=Object(n.useContext)(h.a).selectedMovie,f=function(){l(s+1)},E=[c.a.createElement(x,{nextState:f}),c.a.createElement(T,Object.assign({hallID:d.hall_id||0},F({selectedSeats:m,setSelectedSeats:p,nextState:f},t.state))),c.a.createElement(i.a,{to:{pathname:"/successful",state:F({},t.state,{selectedSeats:m})}})];return c.a.createElement("div",{className:"ticketing"},c.a.createElement(A.a,{selectedMovie:d}),c.a.createElement("div",{className:"ticketing-states wrapper"},E[s]))},H=a(16),G=(a(57),function(e){var t=e.location,a=Object(n.useContext)(h.a).selectedMovie;return c.a.createElement("div",{className:"successful"},c.a.createElement(H.a,{src:a.backdrop_path}),c.a.createElement("div",{className:"wrapper"},c.a.createElement("h1",null,"Enjoy Watching!"),c.a.createElement("h2",null,"Movie"),c.a.createElement("span",null,a.title),c.a.createElement("h2",null,"Showtime"),c.a.createElement("span",null,t.state.showtime),c.a.createElement("h2",null,"Chosen Seats"),c.a.createElement("span",null,t.state.selectedSeats.join(", ")),c.a.createElement(g.a,{onClick:function(){window.location.href="".concat("/cinemania","/")}},"Go Home")))}),M=function(){var e=Object(i.h)().pathname;return Object(n.useEffect)((function(){window.scrollTo(0,0)}),[e]),c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/",exact:!0,component:d}),c.a.createElement(i.b,{path:"/movies/:id",exact:!0,component:f}),c.a.createElement(i.b,{path:"/ticketing",exact:!0,component:_}),c.a.createElement(i.b,{path:"/successful",exact:!0,component:G}))},I=a(28),L=(a(58),function(){var e=Object(i.g)(),t=e.location,a=e.goBack;return c.a.createElement("div",{className:"header"},c.a.createElement("div",{className:"wrapper content"},"/"===t.pathname?c.a.createElement("h1",{className:"website-name"},"CINEMANIA"):c.a.createElement(N.a,{onClick:a,icon:C.c,size:"3x"}),c.a.createElement(N.a,{onClick:function(){window.location.href="https://www.github.com/numancan/cinemania"},icon:I.a,size:"3x"})))}),z=(a(59),function(){return c.a.createElement(n.Fragment,null,c.a.createElement(L,null),c.a.createElement(M,null))});a(60);Object(l.setConfig)({ignoreSFC:!0,pureRender:!0});s.a.render(c.a.createElement((function(){return c.a.createElement(h.b,null,c.a.createElement(k,null,c.a.createElement(o.a,{basename:"/cinemania"},c.a.createElement(z,null))))}),null),document.getElementById("root"))}],[[31,1,2]]]);
//# sourceMappingURL=main.89cf3698.chunk.js.map